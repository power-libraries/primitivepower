package com.github.powerlibraries.primitive;

import static org.assertj.core.api.Assertions.assertThat;

import java.util.ArrayList;
import java.util.List;
import java.util.Random;
import java.util.concurrent.TimeUnit;

import org.junit.jupiter.api.Test;

public class Abstract{{t.label}}ListTest{{t.generic}} {

	@Test
	public void randomTest() {
		Random r = new Random(7);
		List<{{t.boxed}}> expected = new ArrayList<>();
		Simple{{t.label}}List list = new Simple{{t.label}}List();
		
		for(int i=0; i<2000; i++) {
			//adding a value
			if(r.nextFloat()<0.7) {
				{{t.type}} v = {{t.randomValue('r')}};
				assertThat(list.add(v))
						.isEqualTo(expected.add(v));
			}
			else {
				if(r.nextBoolean()) {
					{{t.type}} v = {{t.randomValue('r')}};
					assertThat(list.remove(({{t.boxed}})v))
						.isEqualTo(expected.remove(({{t.boxed}})v));
				}
				else {
					{{t.type}} v = {{t.randomValue('r')}};
					assertThat(list.indexOf(({{t.boxed}})v))
						.isEqualTo(expected.indexOf(({{t.boxed}})v));
				}
			}
			
			
			assertThat(list.size()).isEqualTo(expected.size());
			assertThat(list.toString()).isEqualTo(expected.toString());
			assertThat(list.toArray()).isEqualTo(expected.toArray());
		}
	}
}